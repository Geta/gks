name: Sync Assets
on:
  workflow_dispatch:
  push:
    branches:
      - main
    paths:
      - 'githooks/**'
      - 'actions/**'
      - '.github/workflows/*'
jobs:
  sync-assets:
    runs-on: ubuntu-latest
    steps:
      - 
        name: Checkout code
        uses: actions/checkout@v2
        with:
          ref: ${{ github.ref }}
          token: ${{ secrets.GKS_GH_ACCESS_TOKEN }}
      - 
        name: Sync assets
        uses: varunsridharan/action-github-workflow-sync@89079da42f314fe368ef09d4ab0223c8612213ab
        with:
          DRY_RUN: false
          SKIP_CI: false
          REPOSITORIES: |
            Geta/gks-tenant-gcc@main
          WORKFLOW_FILES: |
            githooks=.githooks
            actions=.github/actions
            .github/workflows/_create-release.yaml=.github/workflows/templates/create-release.yaml
            .github/workflows/_deploy-environment.yaml=.github/workflows/templates/deploy-environment.yaml
            .github/workflows/_dotnet-codebase-analysis.yaml=.github/workflows/templates/dotnet-codebase-analysis.yaml
            .github/workflows/_js-codebase-analysis.yaml=.github/workflows/templates/js-codebase-analysis.yaml
          GITHUB_TOKEN: ${{ secrets.GKS_GH_ACCESS_TOKEN }}
          COMMIT_MESSAGE: 'GKS Automated Asset Sync'